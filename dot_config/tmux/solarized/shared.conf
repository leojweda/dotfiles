run-shell 'tmux set -g @status_bar_background_color "$(tmux show -gqv @tmux_background_highlight_color)"; \

           tmux set -g @is_first_window "#{==:#{window_index},1}"; \
           tmux set -g @is_last_window "#{==:#{window_index},#{session_windows}}"; \

           tmux set -g status-style "bg=$(tmux show -gqv @status_bar_background_color)"; \

           tmux set -g @status_bar_left_background_color "$(tmux show -gqv @tmux_background_color)"; \
           tmux set -g @status_bar_left_content "#[fg=$(tmux show -gqv @tmux_text_color),bg=$(tmux show -gqv @status_bar_left_background_color)] #S:#I.#P "; \
           tmux set -g @status_bar_left_suffix "#[fg=$(tmux show -gqv @status_bar_left_background_color),bg=$(tmux show -gqv @status_bar_background_color)]"; \
           tmux set -g status-left "$(tmux show -gqv @status_bar_left_content)$(tmux show -gqv @status_bar_left_suffix)"; \

           tmux set -g @window_background_color "$(tmux show -gqv @status_bar_background_color)"; \
           tmux set -g @window_separator_color "$(tmux show -gqv @tmux_background_color)"; \
           tmux set -g @is_next_window_active "#{==:#{window_index},#{@TMUX_PREVIOUS_WINDOW_INDEX}}"; \
           tmux set -g @window_prefix "#[fg=$(tmux show -gqv @window_separator_color),bg=$(tmux show -gqv @window_background_color)]#{?$(tmux show -gqv @is_first_window),,}"; \
           tmux set -g @window_content "#[fg=$(tmux show -gqv @tmux_text_color),bg=$(tmux show -gqv @window_background_color)] #I#F #W"; \
           tmux set -g @window_suffix "#[fg=$(tmux show -gqv @window_separator_color),bg=$(tmux show -gqv @window_background_color)]#{?$(tmux show -gqv @is_next_window_active),,}"; \
           tmux setw -g window-status-format "$(tmux show -gqv @window_prefix)$(tmux show -gqv @window_content)$(tmux show -gqv @window_suffix)"; \

           tmux set -g @current_window_background_color "$(tmux show -gqv @tmux_background_color)"; \
           tmux set -g @current_window_first_window_prefix "#[fg=$(tmux show -gqv @status_bar_background_color)]#[bg=$(tmux show -gqv @current_window_background_color)]"; \
           tmux set -g @current_window_other_window_prefix "#[fg=$(tmux show -gqv @window_background_color)]#[bg=$(tmux show -gqv @current_window_background_color)]"; \
           tmux set -g @current_window_prefix "#{?$(tmux show -gqv @is_first_window),$(tmux show -gqv @current_window_first_window_prefix),$(tmux show -gqv @current_window_other_window_prefix)}"; \
           tmux set -g @current_window_content "#[fg=$(tmux show -gqv @tmux_text_color),bg=$(tmux show -gqv @current_window_background_color)] #I#F #W "; \
           tmux set -g @current_window_suffix "#[fg=$(tmux show -gqv @current_window_background_color)]#[bg=$(tmux show -gqv @window_background_color)]"; \
           tmux setw -g window-status-current-format "$(tmux show -gqv @current_window_prefix)$(tmux show -gqv @current_window_content)$(tmux show -gqv @current_window_suffix)"; \

           tmux set -g @leader_key_indicator_color "blue"; \
           tmux set -g @is_leader_key_pressed "client_prefix"; \

           if [ -n "$SSH_CONNECTION" ]; then \
               tmux set -g @status_right_background_color "color136"; \
               tmux set -g @status_rightforeground_color "color230"; \
               tmux set -g @leader_key_pressed_suffix "#[fg=$(tmux show -gqv @leader_key_indicator_color)]#[bg=$(tmux show -gqv @status_bar_background_color)]#[fg=$(tmux show -gqv @tmux_background_color)]#[bg=$(tmux show -gqv @leader_key_indicator_color)]^; #[fg=$(tmux show -gqv @status_right_background_color)]#[bg=$(tmux show -gqv @leader_key_indicator_color)]"; \
               tmux set -g @leader_key_not_pressed_suffix "#[fg=$(tmux show -gqv @status_right_background_color)]#[bg=$(tmux show -gqv @status_bar_background_color)]"; \
               tmux set -g @status_bar_right_suffix "#{?$(tmux show -gqv @is_leader_key_pressed),$(tmux show -gqv @leader_key_pressed_suffix),$(tmux show -gqv @leader_key_not_pressed_suffix)}"; \
               tmux set -g @status_bar_right_content "#[fg=$(tmux show -gqv @status_rightforeground_color),bg=$(tmux show -gqv @status_right_background_color)] #(whoami)@#H "; \
               tmux set -g status-right "$(tmux show -gqv @status_bar_right_suffix)$(tmux show -gqv @status_bar_right_content)"; \
           else \
               tmux set -g @leader_key_pressed_content "#[fg=$(tmux show -gqv @leader_key_indicator_color)]#[bg=$(tmux show -gqv @status_bar_background_color)]#[fg=$(tmux show -gqv @tmux_background_color)]#[bg=$(tmux show -gqv @leader_key_indicator_color)]^; "; \
               tmux set -g status-right "#{?$(tmux show -gqv @is_leader_key_pressed),$(tmux show -gqv @leader_key_pressed_content),}"; \
           fi'
