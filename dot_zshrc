export ZSH_CONFIG_DIR="$HOME/.zsh"

# Must be loaded first.
source "$ZSH_CONFIG_DIR/zinit.zsh"

source "$ZSH_CONFIG_DIR/homebrew.zsh"

# Must be loaded before appearance.zsh.
source "$ZSH_CONFIG_DIR/env.zsh"

# Must be loaded after env.zsh.
source "$ZSH_CONFIG_DIR/appearance.zsh"

source "$ZSH_CONFIG_DIR/aliases.zsh"

source "$ZSH_CONFIG_DIR/functions.zsh"

source "$ZSH_CONFIG_DIR/fzf.zsh"

eval "$(mise activate zsh)"

eval "$(zoxide init --cmd cd zsh)"

eval "$(gh copilot alias -- zsh)"

eval $(thefuck --alias)

source "$ZSH_CONFIG_DIR/plugins.zsh"

zinit light Aloxaf/fzf-tab
zstyle ':fzf-tab:complete:cd:*' fzf-preview 'ls --color $realpath'

eval "$(register-python-argcomplete pipx)"

# Must be loaded before history-substring-search, autosuggestions, and the prompt.
zinit light zsh-users/zsh-syntax-highlighting
ZSH_HIGHLIGHT_STYLES[reserved-word]='fg=green'
ZSH_HIGHLIGHT_STYLES[builtin]='fg=166'
ZSH_HIGHLIGHT_STYLES[function]='fg=yellow'
ZSH_HIGHLIGHT_STYLES[command]='fg=yellow'
ZSH_HIGHLIGHT_STYLES[path]='fg=blue,underline'
ZSH_HIGHLIGHT_STYLES[single-hyphen-option]='fg=61'
ZSH_HIGHLIGHT_STYLES[double-hyphen-option]='fg=61'
ZSH_HIGHLIGHT_STYLES[back-quoted-argument]='fg=cyan'
ZSH_HIGHLIGHT_STYLES[back-quoted-argument-delimiter]='fg=cyan'
ZSH_HIGHLIGHT_STYLES[back-quoted-argument-unclosed]='fg=red,underline'
ZSH_HIGHLIGHT_STYLES[single-quoted-argument]='fg=cyan'
ZSH_HIGHLIGHT_STYLES[single-quoted-argument-unclosed]='fg=red,underline'
ZSH_HIGHLIGHT_STYLES[double-quoted-argument]='fg=cyan'
ZSH_HIGHLIGHT_STYLES[double-quoted-argument-unclosed]='fg=red,underline'

# Must be loaded after syntax-highlighting, but before augosuggestions and the prompt.
zinit light 'zsh-users/zsh-history-substring-search'
# zinit ice wait atload"_history_substring_search_config"
bindkey '^[[A' history-substring-search-up
bindkey '^[[B' history-substring-search-down
bindkey -M emacs '^P' history-substring-search-up
bindkey -M emacs '^N' history-substring-search-down
bindkey -M vicmd 'k' history-substring-search-up
bindkey -M vicmd 'j' history-substring-search-down

# Must be loaded after syntax-highlighting and history-substring-search, but before the prompt.
zinit light zsh-users/zsh-autosuggestions

zinit light 'MichaelAquilina/zsh-you-should-use'

zinit light 'MichaelAquilina/zsh-auto-notify'
AUTO_NOTIFY_EXPIRE_TIME=7000
AUTO_NOTIFY_THRESHOLD=10
AUTO_NOTIFY_IGNORE+=(
  'docker', 'htop', 'less', 'man', 'more', 'nano', 'nvim', 'ssh', 'tmux', 'top', 'vim', 'watch'
)

zinit snippet https://raw.githubusercontent.com/junegunn/fzf-git.sh/main/fzf-git.sh
zinit snippet OMZP::colored-man-pages
zinit snippet OMZP::encode64
zinit snippet OMZP::man
zinit snippet OMZP::thefuck
zinit snippet OMZP::tldr
# zinit snippet OMZP::vi-mode

# Must be loaded after history-substring-search, autosuggestions, and augosuggestions.
source "$ZSH_CONFIG_DIR/prompt.zsh"
